<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Escalas - GEDUC</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #0b5fa5;
            --accent: #f5c000;
            --soft: #e6f0fa;
            --danger: #dc3545;
            --warning: #ffc107;
            --success: #28a745;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            padding: 20px;
        }

        .navbar {
            background-color: var(--primary);
            margin-bottom: 20px;
        }

        .card {
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: none;
        }

        .card-header {
            background-color: var(--primary);
            color: white;
            border-radius: 10px 10px 0 0 !important;
            font-weight: 600;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .alert-floating {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1050;
            min-width: 300px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-dark">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">
                <i class="fas fa-calendar-alt me-2"></i>
                GEDUC AMC - Sistema de Escalas
            </span>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h2>Escala de Servi√ßo</h2>
                    </div>
                    <div class="card-body">
                        <div class="loading">
                            <i class="fas fa-spinner fa-spin me-2"></i>
                            Iniciando sistema GEDUC...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sistema de Gerenciamento de Dados para GEDUC AMC
        console.log('üöÄ Sistema GEDUC AMC - Iniciando...');

        class GEDUCDataManager {
            constructor() {
                this.dados = {
                    colaboradores: [
                        {
                            "id": "lucena",
                            "nome": "Lucena",
                            "vinculo": "Agente (Adm)",
                            "turnoPadrao": ["manh√£", "tarde"],
                            "competencias": ["coordena√ß√£o", "relatoria"],
                            "licenca": null,
                            "reducao": null
                        },
                        {
                            "id": "kariny",
                            "nome": "Kariny",
                            "vinculo": "Agente (Adm)",
                            "turnoPadrao": ["manh√£", "tarde"],
                            "competencias": ["educa√ß√£o"],
                            "licenca": "m√©dica",
                            "reducao": null
                        }
                    ],
                    atividades: [
                        {
                            "id": "mover",
                            "nome": "Projeto MOVER",
                            "nucleo": "Projetos/Programas",
                            "horas": 3,
                            "turnos": ["manh√£", "tarde"],
                            "competencias": ["coordena√ß√£o", "palestras"]
                        }
                    ],
                    escalas: {}
                };
                
                this.init();
            }

            init() {
                console.log('üì¶ Carregando dados...');
                
                setTimeout(() => {
                    this.carregarDados();
                    this.mostrarInterface();
                    this.mostrarMensagem('‚úÖ Sistema GEDUC AMC carregado!', 'success');
                }, 1500);
            }

            carregarDados() {
                try {
                    const dadosSalvos = localStorage.getItem('geduc-data');
                    if (dadosSalvos) {
                        this.dados = JSON.parse(dadosSalvos);
                        console.log('üíæ Dados carregados do navegador');
                    }
                } catch (error) {
                    console.error('‚ùå Erro:', error);
                }
            }

            mostrarInterface() {
                const loadingElement = document.querySelector('.loading');
                if (loadingElement) {
                    loadingElement.remove();
                }

                const cardBody = document.querySelector('.card-body');
                cardBody.innerHTML = `
                    <div class="row">
                        <div class="col-md-6">
                            <h4><i class="fas fa-users me-2"></i> Colaboradores</h4>
                            <p>Total: ${this.dados.colaboradores.length} cadastrados</p>
                            <div class="list-group">
                                ${this.dados.colaboradores.map(colab => `
                                    <div class="list-group-item">
                                        <strong>${colab.nome}</strong>
                                        <br><small>${colab.vinculo}</small>
                                        ${colab.licenca ? `<span class="badge bg-warning">Licen√ßa</span>` : ''}
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <h4><i class="fas fa-tasks me-2"></i> Atividades</h4>
                            <p>Total: ${this.dados.atividades.length} cadastradas</p>
                            <div class="list-group">
                                ${this.dados.atividades.map(ativ => `
                                    <div class="list-group-item">
                                        <strong>${ativ.nome}</strong>
                                        <br><small>${ativ.nucleo} ‚Ä¢ ${ativ.horas}h</small>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="alert alert-success">
                                <i class="fas fa-check-circle me-2"></i>
                                <strong>Sistema GEDUC AMC Online!</strong><br>
                                <small>Dados armazenados localmente no navegador</small>
                            </div>
                            
                            <div class="d-flex gap-2">
                                <button class="btn btn-primary" onclick="geducApp.testarSistema()">
                                    <i class="fas fa-play me-2"></i>Testar Sistema
                                </button>
                                <button class="btn btn-outline-secondary" onclick="geducApp.limparDados()">
                                    <i class="fas fa-sync me-2"></i>Reiniciar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            testarSistema() {
                this.mostrarMensagem('üéâ Sistema funcionando perfeitamente!', 'success');
            }

            limparDados() {
                if (confirm('Limpar todos os dados?')) {
                    localStorage.removeItem('geduc-data');
                    this.mostrarMensaje('Dados limpos. Recarregando...', 'info');
                    setTimeout(() => location.reload(), 1000);
                }
            }

            mostrarMensagem(texto, tipo = 'info') {
                const alerta = document.createElement('div');
                alerta.className = `alert alert-${tipo} alert-floating`;
                alerta.innerHTML = `
                    <i class="fas ${tipo === 'success' ? 'fa-check-circle' : 'fa-info-circle'} me-2"></i>
                    ${texto}
                    <button type="button" class="btn-close float-end" onclick="this.parentElement.remove()"></button>
                `;
                
                document.body.appendChild(alerta);
                setTimeout(() => alerta.remove(), 4000);
            }
        }

        // Inicializar o sistema
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìã DOM carregado - iniciando GEDUC AMC');
            window.geducApp = new GEDUCDataManager();
        });
    </script>
</body>
</html>
